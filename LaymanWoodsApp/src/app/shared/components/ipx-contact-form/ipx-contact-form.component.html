<div class="contact-form">
    <!-- Form Begins -->
    <form *ngIf="!otpSent" [formGroup]="enquiryForm" (ngSubmit)="onSubmit()">
        <!-- Field 1 -->
        <input type="text" style="display: none;" formControlName="companyID" class="input-name form-control" />

        <div class="input-text form-group has-feedback" [ngClass]="{'has-error': submitted && f.name.errors}">
            <label *ngIf="submitted && f.name.errors" class="control-label" for="inputError1">Full Name
                is mandatory</label>
            <input type="text" formControlName="name" class="input-name form-control" placeholder="Full Name" />
            <span *ngIf="submitted && f.name.errors" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
            <span *ngIf="submitted && !f.name.errors" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
        </div>
        <!-- Field 2 -->
        <div class="input-email form-group has-feedback" [ngClass]="{'has-error': submitted && f.email.errors}">
            <label *ngIf="submitted && f.email.errors" class="control-label" for="inputError1">Please
                enter valid email address.</label>
            <input type="email" formControlName="email" class="input-email form-control" placeholder="Email" />
            <span *ngIf="submitted && f.email.errors" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
            <span *ngIf="submitted && !f.email.errors" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
        </div>
        <!-- Field 3 -->
        <div class="input-email form-group has-feedback" [ngClass]="{'has-error': submitted && f.phone.errors}">
            <label *ngIf="submitted && f.phone.errors" class="control-label" for="inputError1">Please
                enter 10 digit mobile number.</label>
            <input type="text" formControlName="phone" class="input-phone form-control" placeholder="10 Digit Mobile No." />
            <span *ngIf="submitted && f.phone.errors" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
            <span *ngIf="submitted && !f.phone.errors" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
        </div>
        <!-- Field 4 -->
        <div class="textarea-message form-group has-feedback" [ngClass]="{'has-error': submitted && f.message.errors}">
            <textarea formControlName="message" class="textarea-message hight-82 form-control" placeholder="Message" rows="2"></textarea>
            <span *ngIf="submitted && f.message.errors" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
            <span *ngIf="submitted && !f.message.errors" class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
        </div>
        <div *ngIf="submitted && otpSent" class="form-group has-feedback" [ngClass]="{'has-error': submitted && f.otp.errors}">
            <label class="sr-only" for="exampleInputAmount">OTP</label>
            <div class="input-group">
                <div class="input-group-addon">OTP</div>
                <input type="text" class="form-control" formControlName="otp" id="exampleInputAmount" placeholder="Enter 6 digit OTP ">
                <span *ngIf="submitted && f.otp.errors" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
            </div>
        </div>
        <!-- Button -->
        <button class="btn btn-default btn-block" [attr.disabled]="(submitted && enquiryForm.invalid) ? 'disabled': null " type="submit">Send
            Now <i class="icon-paper-plane"></i></button>

    </form>

    <form *ngIf="submitted && otpSent" [formGroup]="otpForm" (ngSubmit)="onVerifyOTP()">
        <div *ngIf="!isSuccess && otpSent" class="form-group has-feedback" [ngClass]="{'has-error': submitted && fotp.otp.errors, 'has-success': isSuccess}">
            <div class="input-group">
                <div class="input-group-addon">6 Digit OTP</div>
                <input type="text" class="form-control" formControlName="otp" id="exampleInputAmount" placeholder="Enter 6 digit OTP ">
                <span *ngIf="submitted && fotp.otp.errors" class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="isSuccess" class=" form-control-feedback" aria-hidden="true"></span>
                <span *ngIf="!isSuccess && otpSubmitted" class="form-control-feedback" aria-hidden="true"></span>
            </div>
        </div>
        <button *ngIf="!isSuccess && otpSent" [attr.disabled]="(verifying) ? 'disabled': null " class="btn btn-default btn-block" type="submit">Verify and Submit <i
                class="icon-paper-plane"></i></button>
        <button *ngIf="!isSuccess && otpSent" [attr.disabled]="reSent ? 'disabled': null" (click)="resendOTP()" class="btn btn-default btn-block" type="submit">Resend <i
                    class="icon-paper-plane"></i></button>
        <div *ngIf="verifying" class="alert alert-info" role="alert">Verifying OTP. Please wait...</div>
        <div *ngIf="isSuccess" role="alert" class="alert alert-success">
            <strong>Well done!</strong> Your message has been sent Successfully! <a class="alert-link" href="/">Go Home.</a>.
        </div>
        <div *ngIf="!isSuccess && !verifying && otpSubmitted" class="alert alert-danger" role="alert">
            Ohh snap! OTP is not matched.</div>
    </form>

    <!-- Form Ends -->
</div>